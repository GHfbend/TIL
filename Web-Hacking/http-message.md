# HTTP 메시지

## HTTP Method

 - 서버에 요청을 보내는 방법
 - method의 종류에는 GET, POST, HEAD, PUT, DELETE, TRACE, OPTION 이 있음

|  Method |                                           설명                                           |
|:-------:|:----------------------------------------------------------------------------------------:|
|   GET   |                       자원 요청, 요청 parameter를 URL에 붙여서 전송                      |
|   POST  |                      자원 요청, 요청 parameter를 Body에 붙여서 전송                      |
|   HEAD  |                                  HTTP Header 정보만 요청                                 |
|   PUT   |                                URL 자원을 생성하도록 요청                                |
|  DELETE |                                URL 자원을 삭제하도록 요청                                |
|  TRACE  | 진단을 위한 목적으로 사용되는 메서드로, 서버는 바디에 요청받은 자료와 똑같은 내용을 보냄 |
| OPTIONS |                                 응답 가능한 Method를 요청                                |

GET과 POST가 가장 많이 사용되는 메쏘드 형식이다.  
GET과 POST 방식은 프록시 툴을 이용하냐 안하냐의 차이기 때문에 보안성의 정도는 동일하다.  
----------------------------------------------------------------------------------------  
HEAD 메쏘드 - HTTP header 정보만 요청하는데, 서버에서 응답해줄 때 body는 돌려주지 않는다.  
즉, 리소스 갱신 시간을 확인하는 목적으로 사용된다.  

PUT 메쏘드 - URL 자원을 생성하도록 요청한다는 것인데, 파일을 전송하기 위해 주로 사용된다.  
요청값에 포함되는 데이터를 URL로 지정된 곳에 저장되도록 요청한다.  

DELETE 메쏘드 - PUT의 반대로 URL 자원을 삭제하도록 요청한다.  

OPTIONS 메쏘드 - 요청한 URL에 어떠한 메쏘드 요청이 가능한지 질의하는 것이다.  

TRACE 메쏘드 - 요청한 메시지의 루프백 테스트를 요청한다.  
진단을 위한 목적으로 사용되어 서버는 Response에 Request된 자료와 똑같은 내용을 보낸다.  

## HTTP 응답 상태코드

|     |     클래스    |                       설명                      |
|:---:|:-------------:|:-----------------------------------------------:|
| 1xx | Informational |              요청값을 처리하고 있음             |
| 2xx |    Success    |         정삭적으로 클라이언트 요청 처리         |
| 3xx |  Redirection  | 클라이언트 요청을 처리하기 위해 추가동작이 필요 |
| 4xx |  Client Error |               클라이언트 요청 오류              |
| 5xx |  Server Error |                 서버에 처리 오류                |

* 404 error는 클라이언트가 요청한 리소스가 서버에 없을 경우이다.
* 400 Bad Request는 파이썬 라이브러리로 요청할 때 클라이언트의 요청 구문이 잘못되었을 때 발생한다.

## Header

 - 구조 -> Name : Value (CRLF), 각 header는 반드시 CRLF로 끝나야 한다.
 - 요청과 응답메시지에 추가적인 정보를 담고 있다.
 - name - value의 쌍 목록이다. ( Ex. Content-length : 255 )
 - 요청과 응답에 따라 요청헤더, 응답헤더, 일반헤더(양쪽 다)로 나눌 수 있다.
 - Entity 헤더는 본문 크기, 콘텐츠 또는 리소스 그 자체를 말한다.
 - 헤더 역시 확장하여 새로 정의할 수 있다.

#### General Header (일반 헤더)
클라이언트와 서버 양쪽 모두가 사용하며, 클라이언트나 서버 혹은 또 다른 에플리케이션을 위해 여러 목적으로 사용된다.  
ex. Date : Tue, 3 Oct 1992 02:14:01 GMT - 대상에게 시간을 알림  

- Connection 클라이언트와 서버가 커넥션에 대한 옵션을 정할 수 있게 알림  
- MIME-Version 발송자가 사용한 MIME 버전
- Trailer chunked transfer 인코딩으로 "인코딩된 메시지"의 끝부분에 위치한 헤더들의 목록 나열  
- Transfer-Encoding 메시지에 어떤 인코딩이 적용되었는지 수신자에게 알림
- Upgrade 발송자가 업그레이드하길 원하는 새 버전이나 프로토콜 Via 어떤 중개자를 거쳤는지 (프락시 등)  

일반 캐시 헤더는 애플리케이션에게 매번 원 서버에서 객체를 가져오는 것 대신 로컬 복사본으로 캐시할 수 있도록 해준다.  
 - Cache-Control 메시지와 함께 캐시 지시자를 전달하기 위해 사용
 - Pragma 캐시에 국한되지 않고, "지시자"를 전달함

## Body

 - 실제 data의 본문
 - 텍스트, 이미지, 비디오, HTML 문서, 소프트웨어 애플리케이션 등 여러 종류의 data가 가능